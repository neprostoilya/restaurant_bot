{% extends 'base.html' %}
{% load static %}

{% load static %} 
{% block title %} 
{{ title }} 
{% endblock title %}

{% block main %}
<div class="ButtonBlock">
  <a href="#" class="btn-events">
    Акции
  </a>
  <a href="#" class="btn-cart">
    Корзинка
  </a>
</div>

<div class="CategoryBlock">
    <div class="NavigationWrapperLogo">
        <div class="NavigationLogoImage">
            <span style="box-sizing: border-box; display: block; overflow: hidden; width: initial; height: initial; background: none; opacity: 1; border: 0px; margin: 0px; padding: 0px; position: absolute; inset: 0px;">
            </span>
        </div>
    </div>
    <div class="NavigationWrapperCategories">
        {% for category in categories %}
        <a class="NavigationLink" href="/frontend/{{ category.id }}/"><span class="NavigationTitle">{{ category.title }}</span></a>
        {% endfor %}
    </div>
</div>
{% for dish in dishes %}
<div class="Cardblock" data-bs-toggle="modal" data-bs-target="#exampleModal{{ forloop.counter }}">
    <div class="CardWrapperImage">
        <img src="{{ dish.image }}" alt="{{ dish.title }}">
    </div>
    <div class="CardWrapperText">
        <h3 class="Title">{{ dish.title }}</h3>
        <p class="Description">{{ dish.descriptiontrim }}</p>
        <div class="price"><p>{{ dish.price }} сумм</p></div>
    </div>
</div>
<div class="modal fade" id="exampleModal{{ forloop.counter }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen">
    <div class="modal-content">
      <div class="modal-header">
        <a href="" data-bs-dismiss="modal"><i class="fa-solid fa-arrow-left">м</i></a>
      </div>
      <div class="modal-body">

        <div class="modal-image">
          <img src="{{ dish.image }}" alt="{{ dish.title }}">
        </div>
        <h1>{{ dish.title }}</h1>
        <div class="modal-description">
          {{ dish.description }}
        </div>
        <div class="modal-price"><p>{{ dish.price }} сумм</p></div>
      </div>
      <div>
      <form class="add-to-cart-form" action="{% url 'carts:create_cart' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <input type="hidden" name="dish" value="{{ dish.pk }}">
        <input type="hidden" name="user" value="{{ user.pk }}">
        <input type="hidden" name="amount" value="2">
        <button type="submit" class="btn btn-success btn-lg add-to-cart-button" style="border-radius: 0px;">Добавить</button>
      </form>
    </div>
    </div>
  </div>
</div>
{% endfor %}

<!-- 
{% for event in events %}
<div class="EventBlock ">
  <div class="EventWrapper">
    <div class="EventWrapperImage">
      <img src="{{ event.image }}" alt="{{ event.title }}">
  </div>
</div>
{% endfor %} -->

{% endblock main %}